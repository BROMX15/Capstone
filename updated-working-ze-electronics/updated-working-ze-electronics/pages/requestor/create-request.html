<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ZE Electronic - Create Request</title>

    <!-- Icons -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />

    <!-- Page CSS -->
    <link rel="stylesheet" href="../../assets/css/requestor/create-request.css" />
  </head>

  <body>
    <div class="container">
      <!-- SIDEBAR -->
      <aside class="sidebar">
        <div class="profile">
          <img src="../../assets/images/avatar.jpg" alt="Requestor" />
          <span class="role">REQUESTOR</span>
        </div>

        <nav class="nav-menu">
          <ul>
            <li>
              <a href="dashboard.html">
                <i class="fas fa-tachometer-alt"></i> Dashboard
              </a>
            </li>
            <li>
              <a href="#" class="active">
                <i class="fas fa-plus-circle"></i> Create Request
              </a>
            </li>
            <li>
              <a href="request-tracking.html">
                <i class="fas fa-search"></i> Request Tracking
              </a>
            </li>
            <li>
              <a href="activity-history.html"> <i class="fas fa-clock"></i> History </a>
            </li>
          </ul>
        </nav>

        <a href="../../backend/auth/logout.php" class="logout-btn">LOGOUT</a>
      </aside>

      <!-- MAIN CONTENT -->
      <main class="main-content">
        <div class="page-header">
          <h1>Create New Request</h1>
        </div>

        <div class="form-card">
          <form id="createRequestForm">
            <div class="form-grid">
              <!-- NEXAR SEARCH -->
              <div
                class="form-group full-width"
                id="itemSearchWrapper"
                style="position: relative"
              >
                <label for="itemSearch">
                  Search Part (MPN or Description)
                  <span class="required">*</span>
                </label>

                <input
                  type="text"
                  id="itemSearch"
                  placeholder="e.g., STM32F103, resistor 10k, BAV99"
                  autocomplete="off"
                />

                <div id="suggestions" class="suggestions-dropdown"></div>
              </div>

              <!-- Hidden MPN -->
              <input type="hidden" id="itemName" name="itemName" required />

              <div class="form-group">
                <label for="category">
                  Category <span class="required">*</span>
                </label>
                <select id="category" required>
                  <option value="">Select category</option>
                  <option value="Spare Parts">Spare Parts</option>
                  <option value="Components">Components</option>
                  <option value="Equipment">Equipment</option>
                  <option value="Tools">Tools</option>
                  <option value="Office Supplies">Office Supplies</option>
                  <option value="IT Hardware">IT Hardware</option>
                  <option value="Other">Other</option>
                </select>
              </div>

              <div class="form-group">
                <label for="quantity">
                  Quantity <span class="required">*</span>
                </label>
                <input
                  type="number"
                  id="quantity"
                  min="1"
                  required
                  placeholder="e.g., 100"
                />
              </div>

              <div class="form-group">
                <label for="unitPrice"> Estimated Unit Price (USD) </label>
                <input
                  type="number"
                  step="0.01"
                  id="unitPrice"
                  readonly
                  placeholder="Auto-filled from Nexar"
                />
                <small id="priceInfo"></small>
              </div>

              <div class="form-group">
                <label for="currency">Currency</label>
                <select id="currency">
                  <option value="USD">USD</option>
                  <option value="EUR">EUR</option>
                  <option value="PHP">PHP</option>
                </select>
              </div>

              <div class="form-group full-width">
                <label for="reason">
                  Reason / Justification
                  <span class="required">*</span>
                </label>
                <textarea
                  id="reason"
                  rows="4"
                  required
                  placeholder="Explain why this item is needed..."
                ></textarea>
              </div>

              <div class="form-group full-width">
                <label for="notes"> Additional Notes (Optional) </label>
                <textarea
                  id="notes"
                  rows="3"
                  placeholder="Any specifications, preferred supplier, urgency, etc."
                ></textarea>
              </div>

              <div class="form-group">
                <label for="urgency">Urgency Level</label>
                <select id="urgency">
                  <option value="Normal">Normal</option>
                  <option value="High">High</option>
                  <option value="Critical">Critical</option>
                </select>
              </div>

              <div class="form-group">
                <label for="requiredDate">Required By Date</label>
                <input type="date" id="requiredDate" />
              </div>
            </div>

            <div class="form-actions">
              <button type="button" class="cancel-btn">Cancel</button>
              <button type="submit" class="submit-btn">
                <i class="fas fa-paper-plane"></i> Submit Request
              </button>
            </div>
          </form>
        </div>
      </main>
    </div>

    <!-- LOAD JS LAST (IMPORTANT) -->
    <script src="../JS/create-request.js"></script>
  </body>
</html>
